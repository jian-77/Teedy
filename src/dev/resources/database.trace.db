2025-03-18 03:25:20 jdbc[5]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: The database has been closed [90098-199]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:617)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:427)
	at org.h2.message.DbException.get(DbException.java:194)
	at org.h2.engine.Session.getTransaction(Session.java:1709)
	at org.h2.engine.Session.startStatementWithinTransaction(Session.java:1729)
	at org.h2.command.Command.executeQuery(Command.java:196)
	at org.h2.jdbc.JdbcPreparedStatement.executeQuery(JdbcPreparedStatement.java:115)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:240)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:164)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:218)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:98)
	at org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)
	at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:186)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:145)
	at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:117)
	at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:75)
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:3673)
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3662)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:591)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromCacheOrDatasource(DefaultLoadEventListener.java:577)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:547)
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:531)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:206)
	at org.hibernate.event.internal.DefaultLoadEventListener.loadWithRegularProxy(DefaultLoadEventListener.java:286)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:241)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:110)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:67)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1234)
	at org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1222)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:209)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.doLoad(IdentifierLoadAccessImpl.java:160)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.lambda$load$1(IdentifierLoadAccessImpl.java:149)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.perform(IdentifierLoadAccessImpl.java:112)
	at org.hibernate.loader.internal.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:149)
	at org.hibernate.internal.SessionImpl.find(SessionImpl.java:2430)
	at org.hibernate.internal.SessionImpl.find(SessionImpl.java:2396)
	at com.sismics.docs.core.dao.ConfigDao.getById(ConfigDao.java:31)
	at com.sismics.docs.core.util.ConfigUtil.getConfigStringValue(ConfigUtil.java:23)
	at com.sismics.docs.core.util.ConfigUtil.getConfigBooleanValue(ConfigUtil.java:73)
	at com.sismics.docs.core.service.InboxService.lambda$0(InboxService.java:74)
	at com.sismics.docs.core.util.TransactionUtil.handle(TransactionUtil.java:47)
	at com.sismics.docs.core.service.InboxService.syncInbox(InboxService.java:73)
	at com.sismics.docs.core.service.InboxService.runOneIteration(InboxService.java:63)
	at com.google.common.util.concurrent.AbstractScheduledService$ServiceDelegate$Task.run(AbstractScheduledService.java:233)
	at com.google.common.util.concurrent.Callables.lambda$threadRenaming$3(Callables.java:103)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.lang.IllegalStateException: Could not truncate file nio:/mnt/d/courses/software/Teedy/src/dev/resources/database.mv.db to size 1228800 [1.4.199/2]
	at org.h2.mvstore.DataUtils.newIllegalStateException(DataUtils.java:883)
	at org.h2.mvstore.FileStore.truncate(FileStore.java:245)
	at org.h2.mvstore.MVStore.shrinkFileIfPossible(MVStore.java:1756)
	at org.h2.mvstore.MVStore.storeNow(MVStore.java:1376)
	at org.h2.mvstore.MVStore.store(MVStore.java:1190)
	at org.h2.mvstore.MVStore.tryCommit(MVStore.java:1135)
	at org.h2.mvstore.MVStore.writeInBackground(MVStore.java:2763)
	at org.h2.mvstore.MVStore$BackgroundWriterThread.run(MVStore.java:3123)
Caused by: java.io.IOException: No such file or directory
	at java.base/sun.nio.ch.FileDispatcherImpl.size0(Native Method)
	at java.base/sun.nio.ch.FileDispatcherImpl.size(FileDispatcherImpl.java:90)
	at java.base/sun.nio.ch.FileChannelImpl.size(FileChannelImpl.java:383)
	at org.h2.store.fs.FileNio.truncate(FilePathNio.java:84)
	at org.h2.mvstore.FileStore.truncate(FileStore.java:240)
	... 6 more
2025-03-18 03:25:20 jdbc[5]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: The database has been closed [90098-199]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:617)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:427)
	at org.h2.message.DbException.get(DbException.java:194)
	at org.h2.engine.Session.getTransaction(Session.java:1709)
	at org.h2.engine.Session.getStatementSavepoint(Session.java:1720)
	at org.h2.engine.Session.setSavepoint(Session.java:868)
	at org.h2.command.Command.executeUpdate(Command.java:259)
	at org.h2.jdbc.JdbcConnection.rollbackInternal(JdbcConnection.java:1603)
	at org.h2.jdbc.JdbcConnection.rollback(JdbcConnection.java:563)
	at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.rollback(AbstractLogicalConnectionImplementor.java:121)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.rollback(JdbcResourceLocalTransactionCoordinatorImpl.java:290)
	at org.hibernate.engine.transaction.internal.TransactionImpl.rollback(TransactionImpl.java:142)
	at com.sismics.docs.core.util.TransactionUtil.handle(TransactionUtil.java:56)
	at com.sismics.docs.core.service.InboxService.syncInbox(InboxService.java:73)
	at com.sismics.docs.core.service.InboxService.runOneIteration(InboxService.java:63)
	at com.google.common.util.concurrent.AbstractScheduledService$ServiceDelegate$Task.run(AbstractScheduledService.java:233)
	at com.google.common.util.concurrent.Callables.lambda$threadRenaming$3(Callables.java:103)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.lang.IllegalStateException: Could not truncate file nio:/mnt/d/courses/software/Teedy/src/dev/resources/database.mv.db to size 1228800 [1.4.199/2]
	at org.h2.mvstore.DataUtils.newIllegalStateException(DataUtils.java:883)
	at org.h2.mvstore.FileStore.truncate(FileStore.java:245)
	at org.h2.mvstore.MVStore.shrinkFileIfPossible(MVStore.java:1756)
	at org.h2.mvstore.MVStore.storeNow(MVStore.java:1376)
	at org.h2.mvstore.MVStore.store(MVStore.java:1190)
	at org.h2.mvstore.MVStore.tryCommit(MVStore.java:1135)
	at org.h2.mvstore.MVStore.writeInBackground(MVStore.java:2763)
	at org.h2.mvstore.MVStore$BackgroundWriterThread.run(MVStore.java:3123)
Caused by: java.io.IOException: No such file or directory
	at java.base/sun.nio.ch.FileDispatcherImpl.size0(Native Method)
	at java.base/sun.nio.ch.FileDispatcherImpl.size(FileDispatcherImpl.java:90)
	at java.base/sun.nio.ch.FileChannelImpl.size(FileChannelImpl.java:383)
	at org.h2.store.fs.FileNio.truncate(FilePathNio.java:84)
	at org.h2.mvstore.FileStore.truncate(FileStore.java:240)
	... 6 more
2025-03-18 03:26:16 database: could not close the database
org.h2.message.DbException: General error: "General error: ""java.lang.IllegalStateException: Could not truncate file nio:/mnt/d/courses/software/Teedy/src/dev/resources/database.mv.db to size 1228800 [1.4.199/2]"" [50000-199]" [50000-199]
	at org.h2.message.DbException.get(DbException.java:194)
	at org.h2.engine.Database.close(Database.java:1426)
	at org.h2.engine.OnExitDatabaseCloser.onShutdown(OnExitDatabaseCloser.java:85)
	at org.h2.engine.OnExitDatabaseCloser.run(OnExitDatabaseCloser.java:114)
Caused by: org.h2.jdbc.JdbcSQLNonTransientException: General error: "General error: ""java.lang.IllegalStateException: Could not truncate file nio:/mnt/d/courses/software/Teedy/src/dev/resources/database.mv.db to size 1228800 [1.4.199/2]"" [50000-199]" [50000-199]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:427)
	... 4 more
Caused by: org.h2.message.DbException: General error: "java.lang.IllegalStateException: Could not truncate file nio:/mnt/d/courses/software/Teedy/src/dev/resources/database.mv.db to size 1228800 [1.4.199/2]" [50000-199]
	at org.h2.message.DbException.get(DbException.java:194)
	at org.h2.message.DbException.convert(DbException.java:347)
	at org.h2.mvstore.db.MVTableEngine$1.uncaughtException(MVTableEngine.java:90)
	at org.h2.mvstore.MVStore.handleException(MVStore.java:2787)
	at org.h2.mvstore.MVStore.panic(MVStore.java:441)
	at org.h2.mvstore.MVStore.store(MVStore.java:1192)
	at org.h2.mvstore.MVStore.tryCommit(MVStore.java:1135)
	at org.h2.mvstore.MVStore.writeInBackground(MVStore.java:2763)
	at org.h2.mvstore.MVStore$BackgroundWriterThread.run(MVStore.java:3123)
Caused by: org.h2.jdbc.JdbcSQLNonTransientException: General error: "java.lang.IllegalStateException: Could not truncate file nio:/mnt/d/courses/software/Teedy/src/dev/resources/database.mv.db to size 1228800 [1.4.199/2]" [50000-199]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:427)
	... 9 more
Caused by: java.lang.IllegalStateException: Could not truncate file nio:/mnt/d/courses/software/Teedy/src/dev/resources/database.mv.db to size 1228800 [1.4.199/2]
	at org.h2.mvstore.DataUtils.newIllegalStateException(DataUtils.java:883)
	at org.h2.mvstore.FileStore.truncate(FileStore.java:245)
	at org.h2.mvstore.MVStore.shrinkFileIfPossible(MVStore.java:1756)
	at org.h2.mvstore.MVStore.storeNow(MVStore.java:1376)
	at org.h2.mvstore.MVStore.store(MVStore.java:1190)
	... 3 more
Caused by: java.io.IOException: No such file or directory
	at java.base/sun.nio.ch.FileDispatcherImpl.size0(Native Method)
	at java.base/sun.nio.ch.FileDispatcherImpl.size(FileDispatcherImpl.java:90)
	at java.base/sun.nio.ch.FileChannelImpl.size(FileChannelImpl.java:383)
	at org.h2.store.fs.FileNio.truncate(FilePathNio.java:84)
	at org.h2.mvstore.FileStore.truncate(FileStore.java:240)
	... 6 more
